import{r as h,u as f,j as a,_ as m,l as w}from"./index-c680d4e0.js";import{c as r,J as y,s as v}from"./schema-e9db642c.js";const D=()=>{const[n,x]=h.useState({}),[c,u]=h.useState({email:"",password:""}),b=f(),g=o=>{if(o.preventDefault(),n.email)return m.error(n.email);if(n.password)return m.error(n.password);b(w(c)).then(s=>{var l,e,t;if(((l=s.payload.response)==null?void 0:l.status)===400||((e=s.payload.response)==null?void 0:e.status)===409||((t=s.payload.response)==null?void 0:t.status)===401)throw m.error(s.payload.response.data.message),new Error;m.success("Success!")}).then(()=>u({email:"",password:0})).catch(s=>console.log(s))},p=o=>{const{name:s,value:l}=o.target;let e={...n};const t=j(o);t?e[s]=t:delete e[s];let i={...c};i[s]=l,u(i),x(e)},j=o=>{const{name:s,value:l}=o.target,e={[s]:l},t={[s]:v[s]},i=y.validate(e,t),{error:d}=i;return d?d.details[0].message:null};return a.jsx("section",{className:r.container,children:a.jsx("div",{children:a.jsxs("form",{onSubmit:g,className:r.form,children:[a.jsxs("label",{className:r.label,children:["введіть ваш email:",a.jsx("input",{type:"email",name:"email",onChange:p,value:c.email,className:r.input,placeholder:"youremail@mail.com"})]}),a.jsxs("label",{className:r.label,children:["введіть ваш пароль:",a.jsx("input",{type:"password",name:"password",onChange:p,value:c.password,className:r.input,placeholder:"ваш пароль"})]}),a.jsx("button",{type:"submit",className:r.authbutton,children:"АВТОРИЗУВАТИСЯ"})]})})})};export{D as default};
